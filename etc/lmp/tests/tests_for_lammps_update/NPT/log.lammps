LAMMPS (29 Aug 2024 - Update 1)
##########################################
# USER-SPECIFIED VARIABLES
##########################################

variable tstep               equal  0.5                                        # timestep in fs
variable run_steps           equal  500                                        # Number of steps to run
variable temperature         equal  3000                                       # Temperature (K)
variable pressure            equal  296077                                     # Target pressure (atm)

variable io_freq             equal  10                                         # Frequency of dumping trajectory (500 steps, 250 fs)

variable data_file           string /scratch/08034/tg873340/LAMMPS_test/lammps_data_files/diamond_3.21gcc_512atoms.data.in
variable param_file          string /scratch/08034/tg873340/LAMMPS_test/chimes_parameter_files/published_params.Carbon-2.0.Small.2+3+4b.Tersoff.txt

########################################
# GENERAL CONTROLS
########################################

units           real                          # Required for CHIMES pair style
newton          on                            # Required for CHIMES pair style
atom_style      atomic                        # Required for CHIMES pair style
atom_modify     sort 0 0.0                    # Prevent sorting (to maintain 3b parent/neighbor relationships)
atom_modify     map array                     # May improve efficiency

neighbor        1.5 bin
neigh_modify    delay 0 every 1 check yes

########################################
# INITIALIZATION CONTROLS
########################################

read_data       ${data_file}
read_data       /scratch/08034/tg873340/LAMMPS_test/lammps_data_files/diamond_3.21gcc_512atoms.data.in
Reading data file ...
  orthogonal box = (0 0 0) to (14.69002 14.69002 14.69002)
  1 by 1 by 1 MPI processor grid
  reading atoms ...
  512 atoms
  read_data CPU = 0.002 seconds
velocity        all create ${temperature} 1234 dist gaussian mom yes rot yes loop all  # Assign initial velocity (comment this line out when reading from a restart file)
velocity        all create 3000 1234 dist gaussian mom yes rot yes loop all  


########################################
# FORCE FIELD CONTROLS
########################################

pair_style      chimesFF
pair_coeff      * * ${param_file}
pair_coeff      * * /scratch/08034/tg873340/LAMMPS_test/chimes_parameter_files/published_params.Carbon-2.0.Small.2+3+4b.Tersoff.txt


########################################
# RESTART CONTROLS
########################################

restart         ${io_freq} a.restart b.restart	 # Write restart files
restart         10 a.restart b.restart	 

########################################
# RUN, DUMP, AND THERMO CONTROLS
########################################

##### Set the ensemble
variable temp_damp  equal  v_tstep*100.0	# Temperature damping coefficient
variable press_damp equal  v_tstep*1000.0	# Pressure damping coefficient
fix             1 all npt temp ${temperature} ${temperature} ${temp_damp} iso ${pressure} ${pressure} ${press_damp}  # Couple pressure with "iso" for liquid system
fix             1 all npt temp 3000 ${temperature} ${temp_damp} iso ${pressure} ${pressure} ${press_damp}  
fix             1 all npt temp 3000 3000 ${temp_damp} iso ${pressure} ${pressure} ${press_damp}  
fix             1 all npt temp 3000 3000 50 iso ${pressure} ${pressure} ${press_damp}  
fix             1 all npt temp 3000 3000 50 iso 296077 ${pressure} ${press_damp}  
fix             1 all npt temp 3000 3000 50 iso 296077 296077 ${press_damp}  
fix             1 all npt temp 3000 3000 50 iso 296077 296077 500  

##### Define thermo output
variable e_ensemble        equal f_1
variable e_conserve        equal ke+pe+v_e_ensemble
thermo_style    custom step time temp press density ke pe etotal v_e_ensemble v_e_conserve econserve
thermo_modify   line one format float %20.5f flush yes
thermo          ${io_freq}
thermo          10

##### Dump all atoms
#dump            dump_1 carbon ${io_freq} traj.lammpstrj id type element xu yu zu vx vy vz
#dump_modify     dump_1 sort id element C

##### Run the simulation

timestep        ${tstep}
timestep        0.5
run             ${run_steps} upto
run             500 upto

CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE

Your simulation uses code contributions which should be cited:

- Type Label Framework: https://doi.org/10.1021/acs.jpcb.3c08419

@Article{Gissinger24,
 author = {Jacob R. Gissinger, Ilia Nikiforov, Yaser Afshar, Brendon Waters, Moon-ki Choi, Daniel S. Karls, Alexander Stukowski, Wonpil Im, Hendrik Heinz, Axel Kohlmeyer, and Ellad B. Tadmor},
 title = {Type Label Framework for Bonded Force Fields in LAMMPS},
 journal = {J. Phys. Chem. B},
 year =    2024,
 volume =  128,
 number =  13,
 pages =   {3282â€“-3297}
}

CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE

Generated 0 of 0 mixed pair_coeff terms from geometric mixing rule
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6.5
  ghost atom cutoff = 6.5
  binsize = 3.25, bins = 5 5 5
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair chimesFF, perpetual
      attributes: full, newton on, ghost
      pair build: full/bin/ghost
      stencil: full/ghost/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.618 | 4.618 | 4.618 Mbytes
   Step          Time           Temp          Press         Density         KinEng         PotEng         TotEng      v_e_ensemble   v_e_conserve    Econserve   
         0               0.00000           3000.00000        -243441.37095              3.22122           4569.58181        -106757.39823        -102187.81642              0.00000        -102187.81642        -102187.81642
        10               5.00000           1385.39078        -189489.57064              3.22504           2110.21883        -104301.05875        -102190.83991              8.39976        -102182.44016        -102182.44016
        20              10.00000            535.16139        -165763.14397              3.23601            815.15458        -103021.28868        -102206.13410             24.47749        -102181.65661        -102181.65661
        30              15.00000           1562.45140        -179832.08404              3.25381           2379.91649        -104592.33764        -102212.42115             27.81903        -102184.60212        -102184.60212
        40              20.00000           1783.24467        -158147.55185              3.27848           2716.22747        -104912.56544        -102196.33797             12.43177        -102183.90620        -102183.90620
        50              25.00000           1396.78882        -104874.90826              3.30949           2127.58027        -104322.82439        -102195.24412             12.82723        -102182.41690        -102182.41690
        60              30.00000           1640.61549         -64227.94494              3.34560           2498.97556        -104686.88817        -102187.91261              5.18094        -102182.73166        -102182.73166
        70              35.00000           1861.95689         -35166.22882              3.38543           2836.12145        -104991.92266        -102155.80122            -26.97348        -102182.77470        -102182.77470
        80              40.00000           1464.12239          24910.72687              3.42742           2230.14235        -104330.94772        -102100.80537            -78.71965        -102179.52501        -102179.52501
        90              45.00000           1775.02703          80934.33082              3.46965           2703.71041        -104715.65693        -102011.94652           -168.12058        -102180.06711        -102180.06711
       100              50.00000           1741.85986         141928.03229              3.51037           2653.19038        -104533.26481        -101880.07443           -297.41956        -102177.49399        -102177.49399
       110              55.00000           1739.01635         188804.15930              3.54822           2648.85916        -104381.59931        -101732.74015           -442.77588        -102175.51603        -102175.51603
       120              60.00000           2040.98175         252343.02329              3.58244           3108.81103        -104672.18116        -101563.37013           -611.10444        -102174.47456        -102174.47456
       130              65.00000           1997.29546         298913.09771              3.61257           3042.26833        -104422.74997        -101380.48164           -791.68835        -102172.16999        -102172.16999
       140              70.00000           1881.24438         319926.18317              3.63861           2865.50003        -104073.96270        -101208.46267           -961.62010        -102170.08277        -102170.08277
       150              75.00000           1887.20965         351638.62208              3.66097           2874.58629        -103918.12124        -101043.53495          -1124.87296        -102168.40790        -102168.40790
       160              80.00000           1897.85377         381800.47175              3.67992           2890.79935        -103773.77552        -100882.97617          -1283.79260        -102166.76877        -102166.76877
       170              85.00000           2038.99375         411606.68666              3.69566           3105.78292        -103833.06308        -100727.28016          -1438.24506        -102165.52523        -102165.52523
       180              90.00000           2219.39116         438979.43955              3.70829           3380.56316        -103955.55250        -100574.98934          -1589.56734        -102164.55668        -102164.55668
       190              95.00000           2192.69615         449182.86321              3.71786           3339.90148        -103773.81991        -100433.91843          -1729.45338        -102163.37181        -102163.37181
       200             100.00000           1980.26966         455778.00937              3.72456           3016.33473        -103328.62058        -100312.28585          -1849.27729        -102161.56314        -102161.56314
       210             105.00000           2107.74141         467456.87599              3.72854           3210.49893        -103415.29706        -100204.79814          -1956.20560        -102161.00373        -102161.00373
       220             110.00000           2340.45067         460644.54146              3.72988           3564.96027        -103665.26072        -100100.30044          -2060.81466        -102161.11510        -102161.11510
       230             115.00000           2093.93786         472969.72684              3.72876           3189.47345        -103198.68210        -100009.20866          -2149.68756        -102158.89622        -102158.89622
       240             120.00000           2288.59425         479905.24942              3.72520           3485.97288        -103421.73618         -99935.76330          -2222.91890        -102158.68220        -102158.68220
       250             125.00000           2543.02591         468159.22818              3.71922           3873.52165        -103735.77423         -99862.25258          -2296.63645        -102158.88904        -102158.88904
       260             130.00000           2215.02508         461866.53791              3.71105           3373.91277        -103179.50831         -99805.59554          -2351.22800        -102156.82355        -102156.82355
       270             135.00000           2270.06186         441827.77834              3.70092           3457.74446        -103222.75502         -99765.01056          -2391.75754        -102156.76810        -102156.76810
       280             140.00000           2388.80696         417248.91569              3.68918           3638.61627        -103360.11388         -99721.49761          -2434.99481        -102156.49242        -102156.49242
       290             145.00000           2340.71494         411676.93247              3.67622           3565.36281        -103247.81450         -99682.45170          -2472.56623        -102155.01793        -102155.01793
       300             150.00000           2576.66075         379241.99006              3.66227           3924.75402        -103568.63763         -99643.88361          -2511.55515        -102155.43877        -102155.43877
       310             155.00000           2421.17341         361290.87137              3.64777           3687.91665        -103290.18208         -99602.26542          -2551.77614        -102154.04156        -102154.04156
       320             160.00000           2276.61358         341084.08914              3.63308           3467.72400        -103036.29424         -99568.57024          -2584.60964        -102153.17988        -102153.17988
       330             165.00000           2371.95133         329162.22825              3.61848           3612.94188        -103142.07585         -99529.13397          -2623.64291        -102152.77688        -102152.77688
       340             170.00000           2434.29810         312259.68564              3.60419           3707.90810        -103190.40030         -99482.49219          -2669.30232        -102151.79451        -102151.79451
       350             175.00000           2636.90832         302006.59674              3.59044           4016.52276        -103445.69700         -99429.17424          -2722.31051        -102151.48475        -102151.48475
       360             180.00000           2670.22129         290691.60733              3.57736           4067.26488        -103437.93515         -99370.67027          -2780.11570        -102150.78597        -102150.78597
       370             185.00000           2511.86054         279908.06634              3.56509           3826.05074        -103141.09934         -99315.04861          -2834.02752        -102149.07613        -102149.07613
       380             190.00000           2780.15826         249579.10360              3.55377           4234.72020        -103489.36960         -99254.64941          -2895.03472        -102149.68413        -102149.68413
       390             195.00000           2602.51341         243251.54316              3.54372           3964.13264        -103149.43951         -99185.30687          -2962.68284        -102147.98971        -102147.98971
       400             200.00000           2394.87955         232272.51759              3.53500           3647.86600        -102770.66200         -99122.79599          -3024.22403        -102147.02002        -102147.02002
       410             205.00000           2541.70480         219042.27097              3.52768           3871.50934        -102922.65115         -99051.14180          -3095.10966        -102146.25146        -102146.25146
       420             210.00000           2836.14929         212633.25882              3.52187           4320.00539        -103286.49180         -98966.48640          -3179.97874        -102146.46514        -102146.46514
       430             215.00000           2685.90254         210411.48798              3.51755           4091.15046        -102969.26225         -98878.11179          -3266.21054        -102144.32233        -102144.32233
       440             220.00000           2804.22191         199794.58132              3.51471           4271.37380        -103064.95530         -98793.58150          -3351.40051        -102144.98201        -102144.98201
       450             225.00000           2595.28804         212394.36783              3.51335           3953.12700        -102658.10659         -98704.97959          -3438.27762        -102143.25720        -102143.25720
       460             230.00000           2642.33802         211675.00617              3.51328           4024.79325        -102643.91291         -98619.11966          -3523.54067        -102142.66033        -102142.66033
       470             235.00000           2937.09341         210705.36365              3.51440           4473.76287        -102994.71566         -98520.95279          -3621.28402        -102142.23681        -102142.23681
       480             240.00000           2963.71790         220241.33836              3.51667           4514.31714        -102935.76165         -98421.44451          -3720.19592        -102141.64043        -102141.64043
       490             245.00000           2814.37690         241820.28110              3.51990           4286.84183        -102613.58169         -98326.73986          -3813.66414        -102140.40400        -102140.40400
       500             250.00000           2816.19836         246395.86373              3.52376           4289.61627        -102523.67145         -98234.05518          -3905.82508        -102139.88026        -102139.88026
Loop time of 784.371 on 1 procs for 500 steps with 512 atoms

Performance: 0.028 ns/day, 871.523 hours/ns, 0.637 timesteps/s, 326.376 atom-step/s
99.5% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 782.8      | 782.8      | 782.8      |   0.0 | 99.80
Neigh   | 0.83544    | 0.83544    | 0.83544    |   0.0 |  0.11
Comm    | 0.0092356  | 0.0092356  | 0.0092356  |   0.0 |  0.00
Output  | 0.7147     | 0.7147     | 0.7147     |   0.0 |  0.09
Modify  | 0.009812   | 0.009812   | 0.009812   |   0.0 |  0.00
Other   |            | 0.003552   |            |       |  0.00

Nlocal:            512 ave         512 max         512 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           3223 ave        3223 max        3223 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:        97882 ave       97882 max       97882 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 97882
Ave neighs/atom = 191.17578
Neighbor list builds = 50
Dangerous builds = 0TTotal wall time: 0:13:06
