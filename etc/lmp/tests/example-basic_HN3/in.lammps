########################################
########################################
# HN3 at 3000.0 K
########################################
########################################
 


##########################################
# USER-SPECIFIED VARIABLES
##########################################

variable tstep               equal  0.2                                        # timestep in fs
variable run_steps           equal  100                                        # Number of steps to run
variable temperature         equal  3000                                       # Temperature (K)
 
variable io_freq             equal  1                                          # Frequency of dumping trajectory (steps)
 
variable data_file           string data.in	                               # Data file for initial structure
variable param_file          string ../../../../serial_interface/tests/force_fields/published_params.HN3.2+3+4b.Tersoff.special.offsets.txt

 
########################################
# GENERAL CONTROLS
######################################## 

units           real                          # Required for CHIMES pair style
newton          on                            # Required for CHIMES pair style
atom_style      atomic                        # Required for CHIMES pair style
atom_modify     sort 0 0.0                    # Required for CHIMES pair style
atom_modify     map array                     # Required for CHIMES pair style
 
neighbor        1.0 bin
neigh_modify    delay 0 every 1 check yes     # Required for CHIMES pair style


########################################
# INITIALIZATION CONTROLS
########################################

read_data	data.in
velocity	all create ${temperature} 1111 dist gaussian mom yes rot yes loop all


########################################
# FORCE FIELD CONTROLS 
########################################

pair_style      chimesFF
pair_coeff      * * ${param_file}


########################################
# RUN, DUMP, AND THERMO CONTROLS 
########################################

##### Set the ensemble

variable temp_damp  equal  v_tstep*100.0	# Temperature damping coefficient

fix             1 all nvt temp ${temperature} ${temperature} ${temp_damp}


##### Define thermo output

thermo_style    custom step time ke pe temp press etotal econserve  # econserve replaces fix_modify
thermo_modify   line one format float %20.5f flush yes
thermo          1

##### Run the simulation 
 
timestep        ${tstep} 
run             ${run_steps}


