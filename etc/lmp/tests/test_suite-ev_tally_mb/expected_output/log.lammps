LAMMPS (29 Aug 2024 - Update 1)
########################################
# GENERAL CONTROLS
########################################

units           real                          # Required for CHIMES pair style
newton          on                            # Required for CHIMES pair style
atom_style      atomic                        # Required for CHIMES pair style
atom_modify     sort 0 0.0                    # Prevent sorting (to maintain 3b parent/neighbor relationships)
atom_modify     map array                     # May improve efficiency

neighbor        1.5 bin
neigh_modify    delay 0 every 1 check yes

########################################

read_data       diamond_3.21gcc_512atoms.data.in
Reading data file ...
  orthogonal box = (0 0 0) to (14.69002 14.69002 14.69002)
  3 by 3 by 4 MPI processor grid
  reading atoms ...
  512 atoms
  read_data CPU = 0.007 seconds
pair_style      chimesFF
pair_coeff      * * ../../../../serial_interface/tests/force_fields/published_params.Carbon-2.0.Small.2+3+4b.Tersoff.txt

########################################
# RUN, DUMP, AND THERMO CONTROLS
########################################

fix             1 all nve


##### Compute total stress (virial + kinetic), convert it to system pressure and compare with actual system pressure

compute  pe_atom  all   pe/atom
compute  total_pe all   reduce sum c_pe_atom
variable total_pe equal c_total_pe


# Define the per-atom stress tensor (6 components: xx, yy, zz, xy, xz, yz)
compute stress_atom all stress/atom NULL

# Sum the per-atom stresses across all atoms to get the total stress tensor components
compute total_stress all reduce sum c_stress_atom[1] c_stress_atom[2] c_stress_atom[3] c_stress_atom[4] c_stress_atom[5] c_stress_atom[6]

# Define variables for the total stress tensor components
variable Sxx equal c_total_stress[1]
variable Syy equal c_total_stress[2]
variable Szz equal c_total_stress[3]
variable Sxy equal c_total_stress[4]
variable Sxz equal c_total_stress[5]
variable Syz equal c_total_stress[6]

# Calculate pressure from the stress tensor: Pressure = -(Sxx + Syy + Szz) / (3*volume)
variable pressure equal -(v_Sxx+v_Syy+v_Szz)/(3.0*vol)

##### Define thermo output

thermo_style    custom step press v_pressure v_Sxx v_Syy v_Szz
thermo_modify   line one format float %20.5f flush yes
thermo          1


##### Run the simulation

timestep        0.5
run             1

CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE

Your simulation uses code contributions which should be cited:

- Type Label Framework: https://doi.org/10.1021/acs.jpcb.3c08419

@Article{Gissinger24,
 author = {Jacob R. Gissinger, Ilia Nikiforov, Yaser Afshar, Brendon Waters, Moon-ki Choi, Daniel S. Karls, Alexander Stukowski, Wonpil Im, Hendrik Heinz, Axel Kohlmeyer, and Ellad B. Tadmor},
 title = {Type Label Framework for Bonded Force Fields in LAMMPS},
 journal = {J. Phys. Chem. B},
 year =    2024,
 volume =  128,
 number =  13,
 pages =   {3282â€“-3297}
}

CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE-CITE

Generated 0 of 0 mixed pair_coeff terms from geometric mixing rule
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6.5
  ghost atom cutoff = 6.5
  binsize = 3.25, bins = 5 5 5
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair chimesFF, perpetual
      attributes: full, newton on, ghost
      pair build: full/bin/ghost
      stencil: full/ghost/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 3.853 | 4.025 | 4.238 Mbytes
   Step         Press        v_pressure       v_Sxx          v_Syy          v_Szz     
         0         -309334.80261        -309334.80261      980608319.60225      980611227.33573      980608075.81304
         1         -309334.80107        -309334.80107      980608317.74928      980611215.54881      980608074.81357
Loop time of 0.0956361 on 36 procs for 1 steps with 512 atoms

Performance: 0.452 ns/day, 53.131 hours/ns, 10.456 timesteps/s, 5.354 katom-step/s
99.5% CPU use with 36 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.040254   | 0.062462   | 0.094961   |   5.6 | 65.31
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00031451 | 0.032809   | 0.05502    |   7.8 | 34.31
Output  | 0.00033376 | 0.0003404  | 0.00035755 |   0.0 |  0.36
Modify  | 1.311e-06  | 1.7941e-06 | 2.405e-06  |   0.0 |  0.00
Other   |            | 2.294e-05  |            |       |  0.02

Nlocal:        14.2222 ave          18 max          12 min
Histogram: 8 8 0 0 0 16 0 0 0 4
Nghost:        906.222 ave         937 max         851 min
Histogram: 4 0 0 0 16 0 0 0 0 16
Neighs:              0 ave           0 max           0 min
Histogram: 36 0 0 0 0 0 0 0 0 0
FullNghs:      2360.89 ave        2988 max        1992 min
Histogram: 8 8 0 0 0 16 0 0 0 4

Total # of neighbors = 84992
Ave neighs/atom = 166
Neighbor list builds = 0
Dangerous builds = 0

Total wall time: 0:00:00
